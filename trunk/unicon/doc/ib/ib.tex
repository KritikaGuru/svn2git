%
% ib.tex - main module for the (Icon and Unicon) Implementation book.
%
% goal: update style to match the Unicon Book.
%

% This file was converted to LaTeX by Writer2LaTeX ver. 1.5.2
% see http://writer2latex.sourceforge.net for more info

\documentclass[letterpaper,twoside,12pt]{book}
\usepackage[english]{babel}
\usepackage[inner=1.3in,outer=0.8in,textheight=8.9in]{geometry}
\usepackage{color,array,supertabular,hhline}
\usepackage{makeidx}
\usepackage[ascii]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb,amsfonts,textcomp}
\usepackage[T1]{fontenc}
\usepackage{hyperref}
\hypersetup{pdftex, colorlinks=true, linkcolor=blue, citecolor=blue, filecolor=blue, urlcolor=blue, pdftitle=The Implementation of Icon and Unicon, pdfauthor=Clinton Jeffery, pdfsubject=, pdfkeywords=}
\usepackage[pdftex]{graphicx}
\newcommand\TextSubscript[1]{\ensuremath{{}_{\text{#1}}}}
% Text styles
\newcommand\textstyleSourceText[1]{\texttt{#1}}
\newcommand\textstyleEmphasis[1]{\textit{#1}}
% Outline numbering
\setcounter{secnumdepth}{0}
\input icon.sty
\makeatletter
\newcommand\arraybslash{\let\\\@arraycr}
\makeatother
% Page layout (geometry)
%\setlength\voffset{-1in}
%\setlength\hoffset{-1in}
%\setlength\topmargin{1in}
%\setlength\oddsidemargin{1.25in}
%\setlength\textheight{8.2925005in}
%\setlength\textwidth{6.0in}
%\setlength\footskip{0.0cm}
%\setlength\headheight{0.5075in}
%\setlength\headsep{0.2in}
% Title Font Size
\newcommand*{\TitleFont}{%
      \usefont{\encodingdefault}{\rmdefault}{b}{n}%
      \fontsize{256}{40}%
      \selectfont}
% Footnote rule
\setlength{\skip\footins}{0.0469in}
\renewcommand\footnoterule{\vspace*{-0.0071in}\setlength\leftskip{0pt}\setlength\rightskip{0pt plus 1fil}\noindent\textcolor{black}{\rule{0.25\columnwidth}{0.0071in}}\vspace*{0.0398in}}

\include{writerdefs}
%-------------------------------------------------------------------------------
% Macros for LaTeX pictures
%
% ToDo:  Find a better place for this stuff
%
% Draw a descriptor/value box  \dvbox{title}{flags}{value}
\newcommand{\dvbox}[3]{
\begin{picture}(120,32)
\multiput(0,21)(2,0){50}{\line(1,0){1}}% The dotted line in the middle
\put(0,5){\framebox(100,32){}}%          The box
\put(-2,3){\makebox(100,32)[tr]{#1}}%    title
\put(2,3){\makebox(100,32)[tl]{#2}}%     flags
\put(-2,10){\makebox(100,32)[br]{#3}}%   value
\end{picture}
}
% Draw a descriptor/value box with an arrow \dvptrbox{title}{flags}{len}{value}
\newcommand{\dvptrbox}[4]{
\begin{picture}(120,32)
\multiput(0,21)(2,0){50}{\line(1,0){1}}% The dotted line in the middle
\put(0,5){\framebox(100,32){}}%          The box
\put(-2,3){\makebox(100,32)[tr]{#1}}%    title
\put(2,3){\makebox(100,32)[tl]{#2}}%     flags
\put(80,12){\vector(1,0){#3}}%           arrow
\put(140,9){#4}%                         value
\end{picture}
}
% Draw a block box with a single value and an arrow \blptrkbox{title}{len}{value}
\newcommand{\blkptrbox}[3]{
\begin{picture}(120,32)
\put(0,21){\line(1,0){100}}%             The line in the middle
\put(0,5){\framebox(100,32){}}%          The box
\put(-2,3){\makebox(100,32)[tr]{#1}}%    title
\put(80,12){\vector(1,0){#2}}%           arrow
\put(140,9){#3}%                         value
\end{picture}
}
% Draw a block box with a single value \blkbox{title}{value_1}
\newcommand{\blkbox}[2]{
\begin{picture}(120,32)
\put(0,21){\line(1,0){100}}%             The line in the middle
\put(0,5){\framebox(100,32){}}%          The box
\put(-2,3){\makebox(100,32)[tr]{#1}}%    title
\put(-2,10){\makebox(100,32)[br]{#2}}%   value
\end{picture}
}
% Draw a block box with two values \blkboxtwo{title}{value_1}{value_2}
\newcommand{\blkboxtwo}[3]{
\begin{picture}(120,48)
\put(0,21){\line(1,0){100}}%             Lower separator
\put(0,37){\line(1,0){100}}%             Upper separator
\put(0,5){\framebox(100,48){}}%          The box
\put(-2,3){\makebox(100,48)[tr]{#1}}%    title
\put(-2,30){\makebox(100,32)[br]{#2}}%   value_1
\put(-2,10){\makebox(100,48)[br]{#3}}%   value_2
\end{picture}
}
% Draw a block box with a large value \blklrgbox{title}{value}
\newcommand{\blklrgbox}[2]{
\begin{picture}(120,48)
\put(0,37){\line(1,0){100}}%             Separator
\multiput(0,21)(95,0){2}{\line(1,0){5}}% Decorative flim-flam
\put(0,5){\framebox(100,48){}}%          The box
\put(-2,3){\makebox(100,48)[tr]{#1}}%    title
\put(0,5){\makebox(100,32){#2}}%         value
\end{picture}
}
%-------------------------------------------------------------------------------

\selectlanguage{english}
\title{The Implementation of Icon and Unicon}
\author{Clinton Jeffery}
\date{2014-06-27}
\begin{document}
\clearpage\clearpage\setcounter{page}{1}\pagestyle{KonvertFolgeii}
\thispagestyle{Konverti}
\begin{center}
\includegraphics[width=5.9992in,height=5.3402in]{ib-img/ib-img001.jpg}
\end{center}
{\selectlanguage{english}\color{black}
\bfseries\Huge
The \vspace{0.15in}

\noindent \TitleFont
\colorbox{blue}{\makebox[6in][r]{\parbox{6in}{\center\textcolor{white}{Implementation of\\ Icon and Unicon} \vspace{0.25in}}}}
}

\vspace{0.10in}

{\raggedleft\itshape\huge
a Compendium
\par}

\bigskip

{\raggedleft\LARGE
Clinton Jeffery, editor
\par}

\clearpage\setcounter{page}{1}\pagestyle{UnnumberedKonvertFolgeii}
\parbox{1in}{}

\clearpage

\bigskip
\bigskip
\bigskip

{\centering\bfseries\Huge
The Implementation\\
of Icon and Unicon
\par}

\bigskip
\bigskip
\bigskip
\bigskip
\bigskip
\bigskip
\bigskip

{\raggedleft\bfseries\Large
Ralph and Madge T. Griswold
\par
Kenneth W. Walker
\par
Clinton L. Jeffery 
\par}

\bigskip
\bigskip
\bigskip

\clearpage\setcounter{page}{1}\pagestyle{KonvertFolgeii}
\frontmatter
\bigskip
\bigskip
\noindent Copyright {\textcopyright} 2016 Clinton Jeffery


\noindent Permission is granted to copy, distribute and/or modify this
document under the terms of the GNU Free Documentation License,
Version 1.2 or any later version published by the Free Software
Foundation; with no Invariant Sections, no Front-Cover Texts, and no
Back-Cover Texts. A copy of the license is included in the section
entitled {\textquotedbl}GNU Free Documentation License{\textquotedbl}.

\noindent Portions of this document ({\textquotedbl}The Implementation
of the Icon Programming Language{\textquotedbl}) are in the public
domain and not subject to the above copyright or license.

\noindent Portions of this document ({\textquotedbl}An Optimizing
Compiler for Icon{\textquotedbl}) are copyrighted by Kenneth Walker
and appear in edited form in this document with the express permission
of the author.


\bigskip


\noindent This is a draft manuscript dated 12/10/2016.

\noindent Send comments and errata to
\href{mailto:jeffery@cs.uidaho.edu}{jeffery@cs.uidaho.edu}.

\bigskip

\noindent This document was prepared using \LaTeX. Special thanks to Don Ward
for assistance with the conversion to \LaTeX.

\setcounter{tocdepth}{3}
\tableofcontents
\include{preface}

\mainmatter
\include {intro}

\part{The Implementation of the Icon Programming Language}

\include{p1-intro}
\include{p1-iconOverview}
\include{p1-organization}
\include{p1-values}
\include{p1-strings-csets}
\include{p1-lists}
\include{p1-sets-tables}
\include{p1-interpreter}
\include{p1-exprEval}
\include{p1-procs-coexprs}
\include{p1-storage}
\include{p1-runTime}

\part{An Optimizing Compiler for Icon}
\bigskip
by Kenneth W. Walker

\include{p2-preface}
\include{p2-compiler}
\include{p2-transModel}
\include{p2-typeTheory}
\include{p2-liveness}
\include{p2-overview}
\include{p2-iconcOrg}
\include{p2-typeInfer}
\include{p2-codeGen}
\include{p2-ctrlflow}
\include{p2-invoke}
\include{p2-codePerform}
\include{p2-futureWork}
\include{p2-iconcOpt}

\part{The Implementation of Unicon}
\include{p3-unicon}
\include{p3-2D3D}
\include{p3-network-posix}

\part{Appendices}
\appendix

\include{appA}
\include{appB}
\include{appC}
\include{appD}

\include{app-projects}
\include{app-solutions}
\include{app-rtl}

\include{gnudoclicence}

\clearpage
\bigskip
\backmatter
\include{references}
\printindex

\bigskip
\end{document}
