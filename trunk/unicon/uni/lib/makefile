RM=rm -f
UNICON=../unicon/unicon
base = $(shell dirname `pwd`)
export ICON_IPL:=$(shell dirname $(base))/ipl
export IPATH:=$(base)/lib $(ICON_IPL)/lib
export LPATH:=$(ICON_IPL)/incl

RPFILES= border.icn buttongroup.icn _button.icn checkboxgroup.icn \
 checkbox.icn checkboxmenuitem.icn component.icn dispatcher.icn dropdown.icn \
 editabletextlist.icn editlist.icn iconbutton.icn icon.icn _image.icn \
 label.icn _list.icn menubar.icn menubutton.icn menucomponent.icn _menu.icn \
 menuseparator.icn _node.icn overlayitem.icn overlayset.icn _panel.icn \
 popupmenu.icn scrollarea.icn scrollbar.icn sizer.icn submenu.icn \
 tabitem.icn tablecolumn.icn _table.icn tabset.icn textbutton.icn \
 textfield.icn textlist.icn textmenuitem.icn _ticker.icn toggle.icn \
 toggleiconbutton.icn toggletextbutton.icn toolbar.icn _tree.icn

PACKAGE_LIBS=address.u base64handler.u basicclasscoding.u class.u classcoding.u \
 cltable.u comparator.u compoundedit.u contentdisposition.u contenttype.u cvsuser.u \
 cvsutil.u decode.u encode.u encodinghandler.u error.u format.u gethttp.u gethttpgui.u \
 gethttpincl.u gethttpprocess.u group.u httpclient.u httppage.u langprocs.u listener.u \
 listenerlist.u mailbox.u mailclient.u mailmisc.u message.u messagehandler.u method.u \
 methodlistener.u money.u msg.u multipart.u multiparthandler.u noophandler.u object.u \
 popclient.u process.u qsort.u quotedprintablehandler.u rfc822parser.u runnable.u \
 selectiveclasscoding.u sem.u setfields.u shm.u smtpclient.u str_util.u stringbuff.u \
 texthandler.u time.u timezone.u typehandler.u undoableedit.u undomanager.u url.u

all: gui.u file_dlg.u db.u font_dlg.u $(PACKAGE_LIBS)

qsort.u : qsort.icn
	$(UNICON) -c $?

gui.u : gui.icn guiconst.icn posix.icn ${RPFILES}
	$(UNICON) -c gui

encode.u : encode.icn
	$(UNICON) -c $?
file_dlg.u : file_dlg.icn gui.u
	$(UNICON) -c file_dlg
font_dlg.u : font_dlg.icn gui.u
	$(UNICON) -c font_dlg
db.u : db.icn
	$(UNICON) -c db

clean Clean:
	$(RM) *.u uniclass.dir uniclass.pag

tar:
	tar zcvf guifiles.tgz gui.icn makefile ${RPFILES}

%.u: %.icn
	unicon -c $*

### Autogenerated dependencies
_button.u : _button.icn gui.u toggle.u
_image.u : _image.icn gui.u
_list.u : _list.icn gui.u
_menu.u : _menu.icn submenu.u
_node.u : _node.icn
_panel.u : _panel.icn gui.u
_table.u : _table.icn gui.u
_ticker.u : _ticker.icn
_tree.u : _tree.icn scrollarea.u
address.u : address.icn
attr.u : attr.icn
base64handler.u : base64handler.icn encodinghandler.u
basicclasscoding.u : basicclasscoding.icn classcoding.u
border.u : border.icn gui.u
buttongroup.u : buttongroup.icn
checkbox.u : checkbox.icn gui.u
checkboxgroup.u : checkboxgroup.icn
checkboxmenuitem.u : checkboxmenuitem.icn menucomponent.u toggle.u
class.u : class.icn method.u
classcoding.u : classcoding.icn
cltable.u : cltable.icn
comparator.u : comparator.icn
component.u : component.icn gui.u
compoundedit.u : compoundedit.icn undoableedit.u
contentdisposition.u : contentdisposition.icn cltable.u error.u
contenttype.u : contenttype.icn cltable.u error.u
cvsuser.u : cvsuser.icn
cvsutil.u : cvsutil.icn cvsuser.u mailbox.u
db.u : db.icn
decode.u : decode.icn object.u stringbuff.u
dispatcher.u : dispatcher.icn
dropdown.u : dropdown.icn
editabletextlist.u : editabletextlist.icn scrollarea.u
editlist.u : editlist.icn gui.u
encode.u : encode.icn object.u stringbuff.u
encodinghandler.u : encodinghandler.icn error.u
error.u : error.icn
file_dlg.u : file_dlg.icn gui.u
font_dlg.u : font_dlg.icn gui.u
format.u : format.icn
gethttp.u : gethttp.icn error.u gethttpprocess.u httppage.u msg.u stringbuff.u time.u gethttpincl.icn
gethttpcontrolprocess.u : gethttpcontrolprocess.icn httppage.u langprocs.u msg.u process.u stringbuff.u url.u gethttpincl.icn
gethttpgui.u : gethttpgui.icn gethttp.u process.u gethttpincl.icn
gethttpincl.u : gethttpincl.icn
gethttpprocess.u : gethttpprocess.icn langprocs.u process.u url.u gethttpincl.icn
group.u : group.icn address.u error.u
gui.u : gui.icn _button.icn _image.icn _list.icn _menu.icn _node.icn _panel.icn _table.icn _ticker.icn _tree.icn border.icn buttongroup.icn checkbox.icn checkboxgroup.icn checkboxmenuitem.icn component.icn dispatcher.icn dropdown.icn editabletextlist.icn editlist.icn guiconst.icn icon.icn iconbutton.icn label.icn menubar.icn menubutton.icn menucomponent.icn menuseparator.icn overlayitem.icn overlayset.icn popupmenu.icn posix.icn scrollarea.icn scrollbar.icn sizer.icn submenu.icn tabitem.icn tablecolumn.icn tabset.icn textbutton.icn textfield.icn textlist.icn textmenuitem.icn toggle.icn toggleiconbutton.icn toggletextbutton.icn toolbar.icn
guiconst.u : guiconst.icn
httpclient.u : httpclient.icn error.u httppage.u langprocs.u stringbuff.u url.u
httppage.u : httppage.icn object.u selectiveclasscoding.u
icon.u : icon.icn gui.u
iconbutton.u : iconbutton.icn gui.u
label.u : label.icn gui.u
langprocs.u : langprocs.icn class.u format.u stringbuff.u
listener.u : listener.icn
listenerlist.u : listenerlist.icn
mailbox.u : mailbox.icn address.u error.u
mailclient.u : mailclient.icn error.u
mailmisc.u : mailmisc.icn
menubar.u : menubar.icn gui.u
menubutton.u : menubutton.icn gui.u
menucomponent.u : menucomponent.icn gui.u
menuseparator.u : menuseparator.icn menucomponent.u
message.u : message.icn cltable.u contenttype.u error.u mailmisc.u rfc822parser.u
messagehandler.u : messagehandler.icn message.u typehandler.u
method.u : method.icn
methodlistener.u : methodlistener.icn langprocs.u listener.u
money.u : money.icn error.u object.u
msg.u : msg.icn decode.u encode.u time.u
msgutils.u : msgutils.icn
multipart.u : multipart.icn error.u
multiparthandler.u : multiparthandler.icn message.u multipart.u typehandler.u
noophandler.u : noophandler.icn encodinghandler.u
object.u : object.icn
overlayitem.u : overlayitem.icn gui.u
overlayset.u : overlayset.icn gui.u
popclient.u : popclient.icn mailclient.u message.u
popupmenu.u : popupmenu.icn gui.u
posix.u : posix.icn
process.u : process.icn runnable.u posix.icn
qsort.u : qsort.icn
quotedprintablehandler.u : quotedprintablehandler.icn encodinghandler.u format.u
rfc822parser.u : rfc822parser.icn contentdisposition.u contenttype.u error.u group.u mailbox.u time.u timezone.u
rfc822pr.u : rfc822pr.icn group.u mailbox.u time.u timezone.u
runnable.u : runnable.icn
scrollarea.u : scrollarea.icn gui.u
scrollbar.u : scrollbar.icn gui.u
selectiveclasscoding.u : selectiveclasscoding.icn classcoding.u
sem.u : sem.icn time.u
setfields.u : setfields.icn langprocs.u
shm.u : shm.icn decode.u encode.u
sizer.u : sizer.icn gui.u
smtpclient.u : smtpclient.icn mailclient.u message.u
sql.u : sql.icn
str_util.u : str_util.icn
stringbuff.u : stringbuff.icn
submenu.u : submenu.icn menucomponent.u
tabitem.u : tabitem.icn gui.u
tablecolumn.u : tablecolumn.icn textbutton.u
tabset.u : tabset.icn gui.u
textbutton.u : textbutton.icn gui.u
textfield.u : textfield.icn gui.u
texthandler.u : texthandler.icn typehandler.u
textlist.u : textlist.icn scrollarea.u
textmenuitem.u : textmenuitem.icn menucomponent.u
time.u : time.icn error.u object.u timezone.u posix.icn
timezone.u : timezone.icn
toggle.u : toggle.icn
toggleiconbutton.u : toggleiconbutton.icn iconbutton.u
toggletextbutton.u : toggletextbutton.icn textbutton.u
toolbar.u : toolbar.icn gui.u
typehandler.u : typehandler.icn error.u
undoableedit.u : undoableedit.icn
undomanager.u : undomanager.icn compoundedit.u
url.u : url.icn error.u format.u object.u selectiveclasscoding.u posix.icn
