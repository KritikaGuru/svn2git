base = $(shell dirname `pwd`)
export IPATH:=$(base)/lib $(ICON_IPL)/lib

all: libs testhtml testxml testpatterns testvalid testnotwf testinvalid globaldemo createdemo

clean:
	rm -f *.u uniclass.dir uniclass.pag 

deps:
	$(base)/bin/unidep *.icn -p libs

%.u: %.icn
	unicon -c $*

testhtml : testhtml.u
	unicon -o testhtml testhtml.u

testxml : testxml.u
	unicon -o testxml testxml.u

testvalid : testvalid.u
	unicon -o testvalid testvalid.u

testnotwf : testnotwf.u
	unicon -o testnotwf testnotwf.u

testinvalid : testinvalid.u
	unicon -o testinvalid testinvalid.u

testpatterns : testpatterns.u
	unicon -o testpatterns testpatterns.u

globaldemo : globaldemo.u
	unicon -o globaldemo globaldemo.u

createdemo : createdemo.u
	unicon -o createdemo createdemo.u

### Autogenerated dependencies
attlist.u : attlist.icn
attributedef.u : attributedef.icn
canonicalxmlformatter.u : canonicalxmlformatter.icn formatter.u xmlformatter.u
cdata.u : cdata.icn node.u
comment.u : comment.icn node.u
contentspec.u : contentspec.icn
defaulterrorhandler.u : defaulterrorhandler.icn errorhandler.u
defaultresolver.u : defaultresolver.icn resolver.u
doctype.u : doctype.icn node.u
document.u : document.icn node.u
element.u : element.icn node.u
elementdecl.u : elementdecl.icn
entitydef.u : entitydef.icn
errorhandler.u : errorhandler.icn
externalid.u : externalid.icn
formatter.u : formatter.icn
globaldemo.u : globaldemo.icn globalname.u xmlparser.u
globalname.u : globalname.icn
htmldocument.u : htmldocument.icn document.u
htmlelement.u : htmlelement.icn element.u
htmlformatter.u : htmlformatter.icn formatter.u
htmlparser.u : htmlparser.icn comment.u doctype.u htmldocument.u htmlelement.u node.u parser.u
node.u : node.icn
notationdecl.u : notationdecl.icn
parser.u : parser.icn
processinginstruction.u : processinginstruction.icn node.u
resolver.u : resolver.icn
testhtml.u : testhtml.icn htmlformatter.u htmlparser.u
testinvalid.u : testinvalid.icn canonicalxmlformatter.u errorhandler.u xmlparser.u
testnotwf.u : testnotwf.icn errorhandler.u xmlparser.u
testpatterns.u : testpatterns.icn xmlparser.u
testvalid.u : testvalid.icn canonicalxmlformatter.u defaulterrorhandler.u xmlparser.u
testxml.u : testxml.icn xmlformatter.u xmlparser.u
xmldecl.u : xmldecl.icn node.u
xmldocument.u : xmldocument.icn document.u entitydef.u
xmlelement.u : xmlelement.icn element.u
xmlformatter.u : xmlformatter.icn formatter.u
xmlparser.u : xmlparser.icn attlist.u attributedef.u cdata.u comment.u contentspec.u defaulterrorhandler.u defaultresolver.u doctype.u elementdecl.u entitydef.u externalid.u globalname.u notationdecl.u parser.u processinginstruction.u xmldecl.u xmldocument.u xmlelement.u
libs :  attlist.u attributedef.u canonicalxmlformatter.u cdata.u comment.u contentspec.u defaulterrorhandler.u defaultresolver.u doctype.u document.u element.u elementdecl.u entitydef.u errorhandler.u externalid.u formatter.u globaldemo.u globalname.u htmldocument.u htmlelement.u htmlformatter.u htmlparser.u node.u notationdecl.u parser.u processinginstruction.u resolver.u testhtml.u testinvalid.u testnotwf.u testpatterns.u testvalid.u testxml.u xmldecl.u xmldocument.u xmlelement.u xmlformatter.u xmlparser.u
